 ## JavaScript Primitive vs. Reference Values

ğŸ§  Summary
In JavaScript, values are stored and managed in two fundamental ways:

Primitive Values â†’ stored directly on the stack ğŸ“¦

Reference Values â†’ stored in the heap, with variables pointing to them ğŸ¯

Understanding this difference is crucial for avoiding bugs related to copying, mutating, and comparing values.


ğŸ”¹ JavaScript Value Types Overview

JavaScript has two categories of values:

âœ… Primitive Values (Immutable)

string

number

boolean

null

undefined

symbol

bigint

These are atomic, simple values.


ğŸŸ¦ Reference Values (Mutable)

Objects

Arrays

Functions

They can contain multiple values and are stored by reference.


ğŸ§° Stack vs Heap Memory

JavaScript stores values in two memory locations:

ğŸ“Œ Stack (Fixed-size, Fast)

Stores:

Primitive values

References (addresses) to objects in the heap

Example:

let name = 'John';
let age = 25;

Both name and age are primitives â†’ they live on the stack.


ğŸ“Œ Heap (Dynamic-size, Flexible)

Stores:

Objects

Arrays

Functions

Example:

let person = {
  name: 'John',
  age: 25,
};

Here:
person (on the stack) â†’ points to an object in the heap


ğŸ§© Dynamic Properties (Reference Values Only)

Objects allow adding, modifying, or deleting properties anytime ğŸ¯

let person = {
  name: 'John',
  age: 25,
};

// add
person.ssn = '123-45-6789';

// modify
person.name = 'John Doe';

// delete
delete person.age;

console.log(person);
// { name: 'John Doe', ssn: '123-45-6789' }


ğŸš« Primitive values cannot have properties!
let name = 'John';
name.alias = 'Knight';

console.log(name.alias); // undefined

Why?
Because primitives are not objects, and cannot store dynamic properties.


ğŸ” Copying Primitive Values (Value Copy)

When you copy a primitive value, a new independent copy is created.

let age = 25;
let newAge = age;

newAge = newAge + 1;

console.log(age, newAge);  // 25 26


ğŸ“Œ Each variable has its own memory space
â†’ Changing one will NOT affect the other.

ğŸ”— Copying Reference Values (Reference Copy)

When copying objects, JavaScript copies the reference, not the value.

let person = {
  name: 'John',
  age: 25,
};

let member = person;

member.age = 26;

console.log(person); // { name: 'John', age: 26 }
console.log(member); // { name: 'John', age: 26 }


ğŸ’¡ Both variables point to the same object in the heap.

Meaning:
âœ” Changing the object through one reference also changes it for the other.


ğŸ§¾ Final Summary
| Concept              | Primitive Value                | Reference Value         |
|----------------------|--------------------------------|-------------------------|
| Stored in            | Stack ğŸ“¦                       | Heap ğŸ¯                 |
| Can have properties? | âŒ No                           | âœ”ï¸ Yes                  |
| Mutable?             | No                             | Yes                     |
| When copied          | Value is duplicated ğŸ§â€â™‚ï¸ğŸ§â€â™€ï¸ | Reference is copied ğŸ”—  |
| Effects of change    | Independent                    | Both variables affected |


Key Takeaways
Primitive values are copied by value.

Objects are copied by reference.

Only reference values support dynamic properties.

Mutating an object affects all variables pointing to it.